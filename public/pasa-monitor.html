<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1 maximum-scale=1">
    <meta name="description"
        content="Betoolz è la piattaforma di Matched Betting per i professionisti italiani: scopri il nostro piano gratuito!">
    <meta name="robots" content="index, follow">
    <link href='https://fonts.googleapis.com/css?family=Poppins' rel='stylesheet'>
    <title>Betoolz - Matched Betting per professionisti</title>
    <link rel="icon" type="image/png" href="./assets/images/ws.png" />

    <!--=============== REMIXICONS ===============-->
    <link href="https://cdn.jsdelivr.net/npm/remixicon@3.2.0/fonts/remixicon.css" rel="stylesheet">

    <!--=============== CSS ===============-->
    <link rel="stylesheet" href="assets/css/styles.css">
    <link rel="stylesheet" href="assets/css/seg.css">

    <!-- Fontawesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.2/css/all.min.css"
        integrity="sha512-SnH5WK+bZxgPHs44uWIX+LLJAJ9/2PkPKZ5QiAj6Ta86w+fsb2TkcmfRyVX3pBnMFcV7oQPJkl9QevSCWr3W6A=="
        crossorigin="anonymous" referrerpolicy="no-referrer" />
    <script src="https://cdn.tailwindcss.com"></script>

    <style>
        .my-btn {
            scale: 1;
            transition: scale 0.2s ease;
            background-color: #404040;
            /* Smooth transition */
        }

        .my-btn:active {
            scale: 0.9;
        }

        .no-break {
            word-break: keep-all;
            white-space: nowrap;
        }
    </style>
</head>

<body>
    <!--=============== HEADER ===============-->
    <header class="header" style="box-shadow:0px 0px 10px 0px #5865F2;">
        <nav class="nav max-w-full mx-3">
            <div class="nav__data">
                <a href="landing.html" class="nav__logo">
                    <img src="./assets/images/logo.png" style="height: 70px;width: 210px;">
                </a>

                <div class="nav__toggle" id="nav-toggle">
                    <i class="ri-menu-line nav__burger"></i>
                    <i class="ri-close-line nav__close"></i>
                </div>
            </div>

            <!--=============== NAV MENU ===============-->
            <div class="nav__menu" id="nav-menu">
                <ul class="nav__list">


                    <!--=============== DROPDOWN 1 ===============-->
                    <li class="dropdown__item">
                        <div class="nav__link" style="border-bottom-left-radius: 0px;border-bottom-right-radius: 0px;">
                            Calcolatori Casinò <i class="ri-arrow-down-s-line dropdown__arrow"></i>
                        </div>

                        <ul class="dropdown__menu">
                            <li>
                                <a href="live-casino.html" class="dropdown__link">
                                    Live Casinò
                                </a>
                            </li>

                            <li>
                                <a href="funbonus_slot.html" class="dropdown__link">
                                    Funbonus Casinò
                                </a>
                            </li>

                            <li>
                                <a href="vdg_casino.html" class="dropdown__link">
                                    Bonus VDG Casinò
                                </a>
                            </li>

                            <li>
                                <a href="vdg_slot.html" class="dropdown__link">
                                    Bonus VDG Slot
                                </a>
                            </li>

                            <li>
                                <a href="rtp.html" class="dropdown__link"
                                    style="border-bottom-left-radius: 10px;border-bottom-right-radius: 10px;">
                                    Bonus RTP+
                                </a>
                            </li>

                    </li>
                </ul>
                </li>

                <li class="dropdown__item">
                    <div class="nav__link" style="border-bottom-left-radius: 0px;border-bottom-right-radius: 0px;">
                        Calcolatori Sport <i class="ri-arrow-down-s-line dropdown__arrow"></i>
                    </div>

                    <ul class="dropdown__menu">
                        <li>
                            <a href="punta-banca.html" class="dropdown__link">
                                Punta-Banca
                            </a>
                        </li>

                        <li>
                            <a href="punta-punta.html" class="dropdown__link">
                                Punta-Punta
                            </a>
                        </li>

                        <li>
                            <a href="dutch-tool.html" class="dropdown__link">
                                Dutch Tool
                            </a>
                        </li>

                        <!-- <li>
                    <a href="multi-tool.html" class="dropdown__link">
                       Multi Tool
                    </a>
                </li> -->

                        <li>
                            <a href="funbonus_sport.html" class="dropdown__link">
                                Funbonus Sport
                            </a>
                        </li>

                        <li>
                            <a href="condizionato.html" class="dropdown__link"
                                style="border-bottom-left-radius: 10px;border-bottom-right-radius: 10px; ">
                                Condizionato
                            </a>
                        </li>
                    </ul>
                </li>

                <li><a href="Blackjack.html" class="nav__link">Calcolatore Blackjack</a></li>




                </ul>
            </div>
        </nav>
    </header>

    <!-- Second Header -->
    <div
        style="position: relative; top: 100%; left: 0; width: 100%; display: flex; justify-content: center; background: #404040; padding: 20px;">
        <a style="color: #fff;font-family: Poppins;font-weight: 700;font-size: 24px;" class="head2">Monitor</a>
    </div>
    <!-- Input with submit button (you can use fontawesome) -->
    <div class="w-full max-w-xl min-w-[150px] mx-auto p-4">
        <div class="relative">
            <input type="text" spellcheck="false" id="link-input"
                class="w-full bg-transparent placeholder:text-slate-400 text-slate-700 text-sm border border-slate-200 rounded-md pl-3 pr-16 py-2 transition duration-300 ease focus:outline-none focus:border-slate-400 hover:border-slate-300 shadow-sm focus:shadow"
                placeholder="Inserisci il link" />
            <button
                class="my-btn absolute right-1 top-1 rounded py-1 px-2.5 border border-transparent text-center text-sm text-white transition-all shadow-sm hover:shadow focus:shadow-none hover:bg-slate-600 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
                type="button" onclick="addLink()">
                Invia
            </button>
        </div>
    </div>

    <!-- Dialog -->
    <div data-dialog-backdrop="dialog" data-dialog-backdrop-close="true"
        class="pointer-events-none fixed inset-0 z-[999] grid h-screen w-full place-items-center bg-black bg-opacity-60 opacity-0 backdrop-blur-sm transition-opacity duration-300">
        <div data-dialog="dialog"
            class="relative m-4 p-4 w-2/5 min-w-[90%] sm:min-w-[60%] lg:min-w-[50%] max-w-[40%] rounded-lg bg-white shadow-sm">
            <div
                class="flex shrink-0 border-b pb-4 border-slate-200  items-center pb-4 text-xl font-medium text-slate-800">
                Elimina monitor
            </div>
            <div class="relative py-4 leading-normal text-slate-800 font-light">
                Vuoi davvero cancellare questo monitor?
            </div>
            <p id="link-dialogue"
                class="text-xs text-justify font-medium text-slate-600 break-words overflow-hidden overflow-ellipsis max-w-full">
            </p>
            <span class="p-4 py-2">
                <div id="output-2" class="p-4 bg-gray-100 rounded-md"></div>
            </span>
            <div class="border-b pb-4 border-slate-200"></div>
            <div class="flex shrink-0 flex-wrap items-center pt-4 justify-end">
                <button data-dialog-close="true"
                    class="rounded-md border border-slate-200 py-2 px-4 text-center text-sm transition-all text-slate-600 hover:bg-slate-100 focus:bg-slate-100 active:bg-slate-100 disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
                    type="button" onclick="closeDialog()">
                    Annulla
                </button>
                <button
                    class="rounded-md bg-red-500 py-2 px-4 border border-transparent text-center text-sm text-white transition-all shadow-md hover:shadow-lg focus:bg-red-700 focus:shadow-none active:bg-red-700 hover:bg-red-700 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none ml-2"
                    type="button" onclick="deleteCard()">
                    Elimina
                </button>
            </div>
        </div>
    </div>

    <!-- loading spinner -->
    <div class="d-flex align-center justify-center">
        <img src="./assets/images/91.svg" alt="" srcset="" style="margin-top: 20px;" id="spinner">
        <p id="no-result" style="display: none;">Nessun risultato</p>
    </div>

    <div class="d-flex flex-wrap justify-center" id="cards-div">
    </div>



    <!--=============== MAIN JS ===============-->
    <script>
        //fetch data
        fetch('https://pasa33-api.fly.dev/betoolz/ninjapinger/links/view').then(response => response.json()).then(data => {
            const rawData = Object.entries(data).map(([id, link]) => ({
                id: id,
                link: link
            }));
            console.log(rawData.length);
            if (rawData.length === 0) {
                document.getElementById('spinner').style.display = 'none';
                document.getElementById('no-result').style.display = 'block';
            } else {
                document.getElementById('spinner').style.display = 'block';
                document.getElementById('no-result').style.display = 'none';
            }

            rawData.forEach((data, key) => {
                const cardsDiv = document.getElementById('cards-div');
                console.log(data);
                let html = '';
                let match = '';
                let type = '';
                if (data.link.includes('dutcher')) {
                    type = 'Dutcher';
                } else if (data.link.includes('oddsmatcher')) {
                    type = 'Oddsmatcher';
                } else {
                    type = 'Non disponibile';
                }
                const params = new URLSearchParams(data.link.split('?')[1]);
                if (params.has('partita')) {
                    match = params.get('partita').replace(/%20/g, ' ');
                } else {
                    match = 'Non indicato';
                }
                params.forEach((value, key) => {
                    // Format the key: replace dashes with spaces, add space between letters and numbers
                    const formattedKey = key
                        .replace(/-/g, ' ')                // Replace dashes with spaces
                        .replace(/(\D)(\d+)/, '$1 $2')     // Add space between letters and numbers
                        .toUpperCase();                    // Convert to uppercase

                    // Add space after commas for book names (like Sisal, Netbet)
                    if (/book\d/.test(key)) {
                        value = value.replace(/,(?=\S)/g, ', ');  // Add space after commas if not present
                    }
                    if (key === 'rating-da' || key === 'quote-da') {
                        value = parseFloat(value).toFixed(2);
                        if (key === 'rating-da') {
                            html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)} %</p>`;
                        } else {
                            html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                        }
                    } else {
                        html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                    }
                })
                let card = `        <div class="relative flex flex-col my-6 bg-white shadow-sm border border-slate-200 rounded-lg w-80 ms-5 me-5">
            <div class="mx-3 mb-0 border-slate-200 pt-3 px-1">
                <div class="px-1">
                    <button onclick="toggleAccordion(${key})"
                        class="w-full flex justify-between items-center py-1 text-slate-800">
                        <span>Link</span>
                        <span id="icon-${key}" class="text-slate-800 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                class="w-4 h-4">
                                <path fill-rule="evenodd"
                                    d="M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z"
                                    clip-rule="evenodd" />
                            </svg>
                        </span>
                    </button>
                    <div id="content-${key}" class="max-h-0 overflow-hidden transition-all duration-400 ease-in-out mb-2">
                        <div class="text-sm text-slate-500" style="word-break: break-all;">
                            ${data.link}
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-slate-200 mx-3 ps-2">
                <h5 class="text-slate-700 text-lg font-semibold">
                    Partita: <span class="font-normal">${match}</span>
                </h5>
                <h5 class="text-slate-700 text-lg font-semibold">
                    Strumento: <span class="font-normal">${type}</span>
                </h5>
            </div>
            <div class="mx-3 border-t border-slate-200 px-1">
                <span class="p-4 py-2">
                    <div class="p-4 bg-gray-100 rounded-md">
                        ${html}    
                    </div>
                </span>
            </div>
            <button data-id-card="${data.id}" data-dialog-target="dialog"
                data-link-card="${data.link}"
                class="w-11/12 mb-4 rounded-md bg-red-500 py-2 mx-auto border border-transparent text-center text-sm text-white transition-all active:scale-95 hover:bg-red-600 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
                type="button" onclick="changeVariables(this)">
                Elimina
            </button>
        </div>`;
                document.getElementById('spinner').style.display = 'none';
                cardsDiv.innerHTML += card;
            });
        });

        document.addEventListener('click', function (e) {
            if (e.target.matches('[data-dialog-backdrop]')) {
                // Optionally, if your button has the inline changeVariables, you might not need this.
                closeDialog();
            }
        });

        closeDialog = () => {
            const backdrop = document.querySelector('[data-dialog-backdrop="dialog"]');
            const dialog = document.querySelector('[data-dialog="dialog"]');
            backdrop.classList.add("pointer-events-none", "opacity-0");
            dialog.classList.remove("opacity-1", "translate-y-0");
            dialog.classList.add("opacity-0", "-translate-y-14");
        }

        // cambiamento variabli modulo dialogo
        changeVariables = (e) => {
            id = e.getAttribute('data-id-card');
            link = e.getAttribute('data-link-card');
            document.getElementById('link-dialogue').innerHTML = link;
            createFiletrs(link);
        }

        // creazione filtri
        const createFiletrs = (rawData) => {
            console.log(rawData);
            // open the dialog
            const backdrop = document.querySelector('[data-dialog-backdrop="dialog"]');
            const dialog = document.querySelector('[data-dialog="dialog"]');
            backdrop.classList.remove("pointer-events-none", "opacity-0");
            dialog.classList.remove("opacity-0", "-translate-y-14");
            dialog.classList.add("opacity-1", "translate-y-0");
            const croppedUrl = rawData.split('?')[1];
            const params = new URLSearchParams(croppedUrl);
            const output = document.getElementById('output-2');
            let html = '';
            if (rawData.includes('dutcher')) {
                html = '<h2 class="text-lg text-slate-700 font-bold mb-2">Strumento: Dutcher</h2>';
            } else if (rawData.includes('oddsmatcher')) {
                html = '<h2 class="text-lg text-slate-700 font-bold mb-2">Strumento: Oddsmatcher</h2>';
            } else {
                html = '<h2 class="text-lg text-slate-700 font-bold mb-2">Strumento: Non disponibile</h2>';
            }
            params.forEach((value, key) => {
                // Skip 'partita' completely
                if (key === 'partita') return;

                // Format the key: replace dashes with spaces, add space between letters and numbers
                const formattedKey = key
                    .replace(/-/g, ' ')                // Replace dashes with spaces
                    .replace(/(\D)(\d+)/, '$1 $2')     // Add space between letters and numbers
                    .toUpperCase();                    // Convert to uppercase

                // Add space after commas for book names (like Sisal, Netbet)
                if (/book\d/.test(key)) {
                    value = value.replace(/,(?=\S)/g, ', ');  // Add space after commas if not present
                }
                if (key === 'rating-da' || key === 'quote-da') {
                    value = parseFloat(value).toFixed(2);
                    if (key === 'rating-da') {
                        html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)} %</p>`;
                    } else {
                        html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                    }
                } else {
                    html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                }
                // Render the formatted key-value pair

            });
            output.innerHTML = html;
        }

        // aggiunta link
        addLink = () => {
            const link = document.getElementById('link-input').value;

            // First fetch: add the link
            fetch('https://pasa33-api.fly.dev/betoolz/ninjapinger/links/add', {
                method: 'POST',
                headers: {
                    'Content-Type': 'application/json'
                },
                body: JSON.stringify({ link: link })
            })
                // Chain the second fetch inside the .then callback
                .then(() => {
                    return fetch('https://pasa33-api.fly.dev/betoolz/ninjapinger/links/view');
                })
                .then(response => response.json())
                .then(data => {
                    const rawData = Object.entries(data).map(([id, link]) => ({
                        id: id,
                        link: link
                    }));
                    console.log(rawData);
                    const cardsDiv = document.getElementById('cards-div');
                    cardsDiv.innerHTML = '';

                    if (rawData.length === 0) {
                        document.getElementById('spinner').style.display = 'none';
                        document.getElementById('no-result').style.display = 'block';
                    } else {
                        document.getElementById('spinner').style.display = 'block';
                        document.getElementById('no-result').style.display = 'none';
                    }

                    rawData.forEach((data, key) => {
                        console.log(data);
                        let html = '';
                        let match = '';
                        let type = '';

                        if (data.link.includes('dutcher')) {
                            type = 'Dutcher';
                        } else if (data.link.includes('oddsmatcher')) {
                            type = 'Oddsmatcher';
                        } else {
                            type = 'Non disponibile';
                        }

                        const params = new URLSearchParams(data.link.split('?')[1]);
                        if (params.has('partita')) {
                            match = params.get('partita').replace(/%20/g, ' ');
                        } else {
                            match = 'Non indicato';
                        }

                        params.forEach((value, key) => {
                            const formattedKey = key
                                .replace(/-/g, ' ')
                                .replace(/(\D)(\d+)/, '$1 $2')
                                .toUpperCase();

                            if (/book\d/.test(key)) {
                                value = value.replace(/,(?=\S)/g, ', ');
                            }
                            if (key === 'rating-da' || key === 'quote-da') {
                                value = parseFloat(value).toFixed(2);
                                if (key === 'rating-da') {
                                    html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)} %</p>`;
                                } else {
                                    html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                                }
                            } else {
                                html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                            }
                        });

                        let card = `        <div class="relative flex flex-col my-6 bg-white shadow-sm border border-slate-200 rounded-lg w-80 ms-5 me-5">
            <div class="mx-3 mb-0 border-slate-200 pt-3 px-1">
                <div class="px-1">
                    <button onclick="toggleAccordion(${key})"
                        class="w-full flex justify-between items-center py-1 text-slate-800">
                        <span>Link</span>
                        <span id="icon-${key}" class="text-slate-800 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                class="w-4 h-4">
                                <path fill-rule="evenodd"
                                    d="M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z"
                                    clip-rule="evenodd" />
                            </svg>
                        </span>
                    </button>
                    <div id="content-${key}" class="max-h-0 overflow-hidden transition-all duration-400 ease-in-out mb-2">
                        <div class="text-sm text-slate-500" style="word-break: break-all;">
                            ${data.link}
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-slate-200 mx-3 ps-2">
                <h5 class="text-slate-700 text-lg font-semibold">
                    Partita: <span class="font-normal">${match}</span>
                </h5>
                <h5 class="text-slate-700 text-lg font-semibold">
                    Strumento: <span class="font-normal">${type}</span>
                </h5>
            </div>
            <div class="mx-3 border-t border-slate-200 px-1">
                <span class="p-4 py-2">
                    <div class="p-4 bg-gray-100 rounded-md">
                        ${html}    
                    </div>
                </span>
            </div>
            <button data-id-card="${data.id}" data-dialog-target="dialog"
                data-link-card="${data.link}"
                class="w-11/12 mb-4 rounded-md bg-red-500 py-2 mx-auto border border-transparent text-center text-sm text-white transition-all active:scale-95 hover:bg-red-600 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
                type="button" onclick="changeVariables(this)">
                Elimina
            </button>
        </div>`;
                        document.getElementById('spinner').style.display = 'none';
                        cardsDiv.innerHTML += card;
                    });
                })
                .catch(error => console.error('Error:', error));
        };

        deleteCard = () => {
            console.log('link' + link);
            console.log('id' + id);

            // First fetch: add the link
            fetch('https://pasa33-api.fly.dev/betoolz/ninjapinger/links/id/' + id, {
                method: 'DELETE',
                headers: {
                    'Content-Type': 'application/json'
                },
            })
                // Chain the second fetch inside the .then callback
                .then(() => {
                    return fetch('https://pasa33-api.fly.dev/betoolz/ninjapinger/links/view');
                })
                .then(response => response.json())
                .then(data => {
                    const rawData = Object.entries(data).map(([id, link]) => ({
                        id: id,
                        link: link
                    }));
                    console.log(rawData);
                    const cardsDiv = document.getElementById('cards-div');
                    cardsDiv.innerHTML = '';

                    if (rawData.length === 0) {
                        document.getElementById('spinner').style.display = 'none';
                        document.getElementById('no-result').style.display = 'block';
                    }

                    rawData.forEach((data, key) => {
                        console.log(data);
                        let html = '';
                        let match = '';
                        let type = '';

                        if (data.link.includes('dutcher')) {
                            type = 'Dutcher';
                        } else if (data.link.includes('oddsmatcher')) {
                            type = 'Oddsmatcher';
                        } else {
                            type = 'Non disponibile';
                        }

                        const params = new URLSearchParams(data.link.split('?')[1]);
                        if (params.has('partita')) {
                            match = params.get('partita').replace(/%20/g, ' ');
                        } else {
                            match = 'Non indicato';
                        }

                        params.forEach((value, key) => {
                            const formattedKey = key
                                .replace(/-/g, ' ')
                                .replace(/(\D)(\d+)/, '$1 $2')
                                .toUpperCase();

                            if (/book\d/.test(key)) {
                                value = value.replace(/,(?=\S)/g, ', ');
                            }
                            if (key === 'rating-da' || key === 'quote-da') {
                                value = parseFloat(value).toFixed(2);
                                if (key === 'rating-da') {
                                    html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)} %</p>`;
                                } else {
                                    html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                                }
                            } else {
                                html += `<p class="text-sm text-slate-500"><strong>${formattedKey}:</strong> ${decodeURIComponent(value)}</p>`;
                            }
                        });

                        let card = `        <div class="relative flex flex-col my-6 bg-white shadow-sm border border-slate-200 rounded-lg w-80 ms-5 me-5">
            <div class="mx-3 mb-0 border-slate-200 pt-3 px-1">
                <div class="px-1">
                    <button onclick="toggleAccordion(${key})"
                        class="w-full flex justify-between items-center py-1 text-slate-800">
                        <span>Link</span>
                        <span id="icon-${key}" class="text-slate-800 transition-transform duration-300">
                            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor"
                                class="w-4 h-4">
                                <path fill-rule="evenodd"
                                    d="M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z"
                                    clip-rule="evenodd" />
                            </svg>
                        </span>
                    </button>
                    <div id="content-${key}" class="max-h-0 overflow-hidden transition-all duration-400 ease-in-out mb-2">
                        <div class="text-sm text-slate-500" style="word-break: break-all;">
                            ${data.link}
                        </div>
                    </div>
                </div>
            </div>
            <div class="p-4 border-t border-slate-200 mx-3 ps-2">
                <h5 class="text-slate-700 text-lg font-semibold">
                    Partita: <span class="font-normal">${match}</span>
                </h5>
                <h5 class="text-slate-700 text-lg font-semibold">
                    Strumento: <span class="font-normal">${type}</span>
                </h5>
            </div>
            <div class="mx-3 border-t border-slate-200 px-1">
                <span class="p-4 py-2">
                    <div class="p-4 bg-gray-100 rounded-md">
                        ${html}    
                    </div>
                </span>
            </div>
            <button data-id-card="${data.id}" data-dialog-target="dialog"
                data-link-card="${data.link}"
                class="w-11/12 mb-4 rounded-md bg-red-500 py-2 mx-auto border border-transparent text-center text-sm text-white transition-all active:scale-95 hover:bg-red-600 active:shadow-none disabled:pointer-events-none disabled:opacity-50 disabled:shadow-none"
                type="button" onclick="changeVariables(this)">
                Elimina
            </button>
        </div>`;
                        cardsDiv.innerHTML += card;
                    });
                    closeDialog();
                })
                .catch(error => console.error('Error:', error));
        }
    </script>
    <!-- toggle accordion -->
    <script>
        function toggleAccordion(index) {
            const content = document.getElementById(`content-${index}`);
            const icon = document.getElementById(`icon-${index}`);

            // SVG for Down icon
            const downSVG = `
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
          <path fill-rule="evenodd" d="M4.22 6.22a.75.75 0 0 1 1.06 0L8 8.94l2.72-2.72a.75.75 0 1 1 1.06 1.06l-3.25 3.25a.75.75 0 0 1-1.06 0L4.22 7.28a.75.75 0 0 1 0-1.06Z" clip-rule="evenodd" />
        </svg>
      `;

            // SVG for Up icon
            const upSVG = `
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" fill="currentColor" class="w-4 h-4">
          <path fill-rule="evenodd" d="M11.78 9.78a.75.75 0 0 1-1.06 0L8 7.06 5.28 9.78a.75.75 0 0 1-1.06-1.06l3.25-3.25a.75.75 0 0 1 1.06 0l3.25 3.25a.75.75 0 0 1 0 1.06Z" clip-rule="evenodd" />
        </svg>
      `;

            // Toggle the content's max-height for smooth opening and closing
            if (content.style.maxHeight && content.style.maxHeight !== '0px') {
                content.style.maxHeight = '0';
                icon.innerHTML = upSVG;
            } else {
                content.style.maxHeight = content.scrollHeight + 'px';
                icon.innerHTML = downSVG;
            }
        }
    </script>
    <!-- main js -->
    <script src="assets/js/main.js"></script>
    <!-- script dialogue -->
    <script>
        function _array_like_to_array(arr, len) {
            if (len == null || len > arr.length)
                len = arr.length;
            for (var i = 0, arr2 = new Array(len); i < len; i++)
                arr2[i] = arr[i];
            return arr2
        }
        function _array_without_holes(arr) {
            if (Array.isArray(arr))
                return _array_like_to_array(arr)
        }
        function _iterable_to_array(iter) {
            if (typeof Symbol !== "undefined" && iter[Symbol.iterator] != null || iter["@@iterator"] != null)
                return Array.from(iter)
        }
        function _non_iterable_spread() {
            throw new TypeError("Invalid attempt to spread non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")
        }
        function _to_consumable_array(arr) {
            return _array_without_holes(arr) || _iterable_to_array(arr) || _unsupported_iterable_to_array(arr) || _non_iterable_spread()
        }
        function _unsupported_iterable_to_array(o, minLen) {
            if (!o)
                return;
            if (typeof o === "string")
                return _array_like_to_array(o, minLen);
            var n = Object.prototype.toString.call(o).slice(8, -1);
            if (n === "Object" && o.constructor)
                n = o.constructor.name;
            if (n === "Map" || n === "Set")
                return Array.from(n);
            if (n === "Arguments" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))
                return _array_like_to_array(o, minLen)
        }
        (function () {
            var triggers = document.querySelectorAll("[data-dialog-target]");
            var dialogs = document.querySelectorAll("[data-dialog]");
            var backdrops = document.querySelectorAll("[data-dialog-backdrop]");
            var closeTriggers = document.querySelectorAll("[data-dialog-close]");
            if (triggers && dialogs && backdrops) {
                Array.from(triggers).forEach(function (trigger) {
                    return Array.from(dialogs).forEach(function (dialog) {
                        return Array.from(backdrops).forEach(function (backdrop) {
                            if (trigger.dataset.dialogTarget === dialog.dataset.dialog && backdrop.dataset.dialogBackdrop === dialog.dataset.dialog) {
                                var _dialog_classList, _dialog_classList1;
                                var mountDialog = function mountDialog() {
                                    var _dialog_classList, _dialog_classList1;
                                    isDialogOpen = true;
                                    backdrop.classList.toggle("pointer-events-none");
                                    backdrop.classList.toggle("opacity-0");
                                    (_dialog_classList = dialog.classList).remove.apply(_dialog_classList, _to_consumable_array(unmountClasses));
                                    (_dialog_classList1 = dialog.classList).add.apply(_dialog_classList1, _to_consumable_array(mountClasses))
                                };
                                var unmountDialog = function unmountDialog() {
                                    var _dialog_classList, _dialog_classList1;
                                    isDialogOpen = false;
                                    backdrop.classList.add("pointer-events-none");
                                    backdrop.classList.add("opacity-0");
                                    (_dialog_classList = dialog.classList).remove.apply(_dialog_classList, _to_consumable_array(mountClasses));
                                    (_dialog_classList1 = dialog.classList).add.apply(_dialog_classList1, _to_consumable_array(unmountClasses))
                                };
                                var mountValue = dialog.dataset.dialogMount || "opacity-1 translate-y-0";
                                var unmountValue = dialog.dataset.dialogUnmount || "opacity-0 -translate-y-14";
                                var transitionValue = dialog.dataset.dialogTransition || "transition-all duration-300";
                                var mountClasses = mountValue.split(" ");
                                var unmountClasses = unmountValue.split(" ");
                                var transitionClasses = transitionValue.split(" ");
                                var isDialogOpen = false;
                                (_dialog_classList = dialog.classList).add.apply(_dialog_classList, _to_consumable_array(unmountClasses));
                                if (!backdrop.hasAttribute("tabindex"))
                                    backdrop.setAttribute("tabindex", 0);
                                if (transitionValue !== "false")
                                    (_dialog_classList1 = dialog.classList).add.apply(_dialog_classList1, _to_consumable_array(transitionClasses));
                                if (dialog.className.includes(unmountValue) && !backdrop.className.includes("pointer-events-none opacity-0")) {
                                    backdrop.classList.add("pointer-events-none");
                                    backdrop.classList.add("opacity-0")
                                }
                                trigger.addEventListener("click", function () {
                                    return dialog.className.includes(unmountValue) ? mountDialog() : unmountDialog()
                                });
                                backdrop.addEventListener("click", function (param) {
                                    var target = param.target;
                                    var _target_dataset, _target_dataset1;
                                    if ((target === null || target === void 0 ? void 0 : (_target_dataset = target.dataset) === null || _target_dataset === void 0 ? void 0 : _target_dataset.dialogBackdrop) && (target === null || target === void 0 ? void 0 : (_target_dataset1 = target.dataset) === null || _target_dataset1 === void 0 ? void 0 : _target_dataset1.dialogBackdropClose))
                                        unmountDialog()
                                });
                                document.addEventListener("keyup", function (param) {
                                    var key = param.key;
                                    return key === "Escape" && isDialogOpen ? unmountDialog() : null
                                });
                                Array.from(closeTriggers).forEach(function (close) {
                                    return close.addEventListener("click", function () {
                                        return isDialogOpen ? unmountDialog() : null
                                    })
                                })
                            }
                        })
                    })
                })
            }
        }
        )();
    </script>
</body>

</html>